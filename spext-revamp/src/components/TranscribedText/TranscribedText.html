<div>
  <div class="transcribe-text-container">
    <div class="block-left"></div>
    <div class="block-center todo-list">
      <div class="file-title">{{ fileTitle }}</div>
      <div
        class="todo-wrapper"
        v-for="(item, i) in todos"
        v-bind:key="i"
        @dragstart="dragStart(i, $event)"
        @dragover.prevent
        @dragenter="dragEnter($event, i)"
        @dragleave="dragLeave($event, i)"
        @dragend="dragEnd"
        @drop="dragFinish(i, $event)"
        v-bind:id="'todo-wrapper' + i"
      >
        <div
          class="transcribe-text-block"
          @mouseover="displayIcons(i)"
          @mouseleave="hideIcons(i)"
        >
          <div class="handle-container" v-bind:id="'handle-container'+i">
            <div class="icon-wrapper">
              <div
                class="icon label-icon"
                v-bind:style="{color:item.labelColor}"
                v-bind:id="'label'+ i"
                v-bind:class="[{'active-icon':item.showLabelModal},{'active-label':item.labelColor},{'hide-icon':!item.showIcons}]"
                ref="exclude"
              >
                <i
                  v-tooltip.left=" item.labelName|| 'Label'"
                  v-on:click="displayPopover(i,'label')"
                  class="fa fa-tag"
                ></i>
              </div>
              <transition name="bounce">
                <div v-if="item.showLabelModal" v-bind:id="'label-modal' + i">
                  <div class="color-palette-container">
                    <div class="palette-header-container">
                      <div class="header">
                        <input
                          contenteditable="true"
                          ref="labelName"
                          @keyup="saveLabelName($event,i,item.labelName)"
                          v-model="item.labelName"
                          placeholder="Label Name"
                        />
                      </div>
                    </div>
                    <div class="color-list">
                      <div
                        class="color-item"
                        @mouseover="color.isFocused=true"
                        @mouseleave="color.isFocused=false"
                        v-for="(color) in colors"
                      >
                        <i
                          class="fa fa-circle"
                          v-on:click="selectLabelColor(i,color.code)"
                          v-bind:class="{'active-color-item':item.labelColor===color.code}"
                          v-bind:style="{color:color.code}"
                        ></i>
                        <div
                          class="active-color"
                          v-bind:style="{backgroundColor:item.labelColor===color.code||color.isFocused?
                        color.code:'#fff'}"
                        ></div>
                      </div>
                    </div>
                  </div>
                </div>
              </transition>
              <div
                class="icon drag-icon"
                v-bind:id="'drag'+i"
                @mousedown="addEventListener($event)"
                v-tooltip.top="'click here to drag'"
                v-bind:class="{'hide-icon':!item.showIcons}"
              >
                <i class="fa fa-ellipsis-v"></i>
                <i class="fa fa-ellipsis-v"></i>
              </div>
              <div
                class="icon add-icon"
                v-bind:id="'add'+ i"
                v-bind:class="[{'active-icon':item.showAddActionModal},{'hide-icon':!item.showIcons}]"
              >
                <i
                  ref="exclude"
                  v-tooltip.bottom-end="'Click to add'"
                  v-on:click="displayPopover(i,'addAction')"
                  class="fa fa-plus-circle"
                ></i>
              </div>
            </div>
            <transition name="bounce"
              ><div
                v-if="item.showAddActionModal"
                v-bind:id="'add-action-modal' +
              i"
                :ref="'add-action-modal' +
              i"
              >
                <div class="add-action-container">
                  <div class="file-container" @click="openPopover('addFile',i)">
                    <div class="icon-container">
                      <div class="file-icon-wrapper">
                        <i class="fa fa-file-audio"></i>
                      </div>
                    </div>
                    <div class="description">
                      <div class="title">File</div>
                      <div class="sub-title">
                        Add a media or transcribed file
                      </div>
                    </div>
                  </div>
                  <div class="paragraph-break-container">
                    <div class="icon-container">
                      <div class="paragraph-icon-wrapper">
                        <i class="fa fa-paragraph"></i>
                      </div>
                    </div>
                    <div class="description">
                      <div class="title">Paragraph Break</div>
                      <div class="sub-title">Keyboard Shortcut-Enter Key</div>
                    </div>
                  </div>
                </div>
              </div></transition
            >
          </div>
          <div class="todo-text-block" ref="transcriber">
            <div :class="{'active-line':item.showHorizontalLine}"></div>
            <div
              class="todo-item"
              v-bind:id="'todo-item'+i"
              contenteditable="true"
            >
              {{ item.title }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="block-right"></div>
  </div>

  <Popover :config="config">
      <div>
        <AddFiles v-on:closeAddFile="closeAddFilePopover()"></AddFiles>
      </div>
  </Popover>
</div>
